<div class="modal-content">
    <div class="modal-header">
        <button ng-click="cancel()" type="button" class="close" data-dismiss="modal"><span
                    aria-hidden="true">Ã—</span><span
                    class="sr-only">Close</span></button>
        <h4 class="modal-title col-sm-7" id="myModalLabel">Account Management</h4>
        <img ng-if="vm.dataLoading"
             src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="/>
        <div class="col-sm-12"
             ng-class="{ 'alert': vm.flash, 'alert-success': vm.flash.type === 'success','alert-warning': vm.flash.type === 'warning', 'alert-danger': vm.flash.type === 'error' }"
             ng-if="flash" ng-bind="vm.flash.message"></div>
    </div>
    <div class="modal-body">
        <div class="row">
            <div class="col-sm-6">
                <h4>Profile Information</h4>
                <div class="well">
                    <form ng-submit="vm.updateAccount()" name="formA" class="form" role="form">
                        <div class="form-group">
                            <label title="profile image" class="center-block" for="profile-upload"
                                   style=";font-weight: normal; ">
                                <img class="avatar center profile-img-card  img-circle"
                                     src="//ssl.gstatic.com/accounts/ui/avatar_2x.png"
                                     ng-src="{{vm.user.profileImage}}" style="cursor: pointer;"/>
                                <input id="profile-upload" ng-model="vm.user.profileImage" type="file"
                                       style="display: none;" file-upload="vm.myFile"
                                       accept="image/*, video/*, audio/*" title="profile image">
                                <div class="input-group">
                                    <span class="input-group-addon" style="cursor: pointer;"><i class="fa fa-image"></i></span>
                                    <input type="text" name="profileImage" id="profileImage" class="form-control"
                                           title="Image profile url" ng-change="vm.myFile = undefined;alert(vm.myFile)"
                                           placeholder="Image profile url" ng-model="vm.user.profileImage" required/>
                                </div>
                            </label>
                            <span ng-show="formA.profileImage.$dirty && formA.profileImage.$error.required"
                                  class="help-block" style="color:red;">* Image profile is required</span>
                        </div>
                        <div class="form-group"
                             ng-class="{ 'has-error': formA.firstName.$dirty && formA.firstName.$error.required }">
                            <div class="input-group" title="first name">
                                <span class="input-group-addon"><i class="fa fa-user"></i></span>
                                <input type="text" name="firstName" id="firstName" class="form-control"
                                       placeholder="First name"
                                       ng-model="vm.user.firstName"/>
                            </div>
                            <span ng-show="formA.firstName.$dirty && formA.firstName.$error.required"
                                  class="help-block" style="color:red;">* First name is required</span>
                        </div>
                        <div class="form-group" title="last name"
                             ng-class="{ 'has-error': formA.lastName.$dirty && fromA.lastName.$error.required }">
                            <div class="input-group">
                                <span class="input-group-addon"><i class="fa fa-user"></i></span>
                                <input type="text" name="lastName" id="lastName" class="form-control"
                                       placeholder="Last name"
                                       ng-model="vm.user.lastName"/>
                            </div>
                            <span ng-show="fromA.lastName.$dirty && fromA.lastName.$error.required"
                                  class="help-block" style="color:red;">* Last name is required</span>
                        </div>
                        <div class="form-group" title="email"
                             ng-class="{ 'has-error': fromA.email.$dirty && fromA.email.$error.required }">
                            <div class="input-group">
                                <span class="input-group-addon"><i class="fa fa-user"></i></span>
                                <input type="email" name="email" id="email" class="form-control"
                                       placeholder=" example@gmail.com"
                                       ng-model="vm.user.email" required/>
                            </div>
                            <span ng-show="fromA.email.$dirty && fromA.email.$error.required"
                                  class="help-block" style="color:red;">* Email is required</span>
                        </div>
                        <div class="form-group" title="username"
                             ng-class="{ 'has-error': fromA.username.$dirty && fromA.username.$error.required }">
                            <div class="input-group">
                                <span class="input-group-addon"><i class="fa fa-user"></i></span>
                                <input type="text" name="username" id="username" class="form-control"
                                       placeholder="username"
                                       ng-model="vm.user.username" required/>
                            </div>
                            <span ng-show="fromA.username.$dirty && fromA.username.$error.required"
                                  class="help-block" style="color:red;">* Username is required</span>
                        </div>
                        <div class="">
                            <button type="submit" class="btn btn-success btn-block" ng-disabled="fromA.$invalid">
                                <i class="fa fa-pencil"></i> Update Profile
                            </button>
                        </div>
                    </form>
                </div>
            </div>
            <% if(!locals.type || type != 'editUser'){ %>
            <div class="col-sm-6">
                <h4>Change Password</h4>
                <div class="well">
                    <form ng-submit="vm.updatePassword()" name="formA" class="form" role="form">
                        <div class="form-group" title="old password"
                             ng-class="{ 'has-error': formA.password.$dirty && fromA.password.$error.required }">
                            <div class="input-group">
                                <span class="input-group-addon"><i class="fa fa-lock"></i></span>
                                <input type="password" name="oldPassword" id="Opassword"
                                       class="form-control"
                                       placeholder="Old Password"
                                       ng-model="vm.pass.oldPassword" required/>
                            </div>
                            <span ng-show="fromA.password.$dirty && fromA.password.$error.required"
                                  class="help-block" style="color:red;">* Old Password is required</span>
                        </div>
                        <div class="form-group" title="new password"
                             ng-class="{ 'has-error': formA.password.$dirty && fromA.password.$error.required }">
                            <div class="input-group">
                                <span class="input-group-addon"><i class="fa fa-lock"></i></span>
                                <input type="password" name="newPassword" id="Npassword" class="form-control"
                                       placeholder="New Password"
                                       ng-model="vm.pass.newPassword" required/>
                            </div>
                            <span ng-show="fromA.newPassword.$dirty && fromA.newPassword.$error.required"
                                  class="help-block" style="color:red;">* New Password is required</span>
                        </div>
                        <div class="form-group" title="confirm password"
                             ng-class="{ 'has-error': fromA.password.$dirty && fromA.password.$error.required }">
                            <div class="input-group">
                                <span class="input-group-addon"><i class="fa fa-lock"></i></span>
                                <input type="password" name="ConfirmPassword" id="Cpassword"
                                       class="form-control"
                                       placeholder="Confirm Password"
                                       ng-model="vm.pass.confirmPassword" required/>
                            </div>
                            <span ng-show="fromA.password.$dirty && fromA.password.$error.required"
                                  class="help-block" style="color:red;">* Confirm Password is required</span>
                        </div>
                        <div class="">
                            <button type="submit" class="btn btn-warning btn-block" ng-disabled="formC.$invalid">
                                <i class="fa fa-pencil"></i> Change Password
                            </button>
                        </div>
                    </form>
                </div>
                <h4>Delete Account</h4>
                <div class="well">
                    <p>You can delete your account, but keep in mind this
                        action is irreversible.</p>
                    <button ng-click="vm.deleteAccount()" class="btn btn-danger btn-block"
                            ng-disabled="fromA.$invalid">
                        <i class="fa fa-trash"></i> Delete my account
                    </button>
                </div>
            </div>
            <% } %>
        </div>
    </div>
</div>